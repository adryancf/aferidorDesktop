

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
    <link rel="shortcut icon" type="image/x-icon" href="../common_assets/logo.ico" />

    <title>Aferidor Desktop</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="../common_assets/includes/bootstrap-icons-1.11.3/font/bootstrap-icons.min.css">
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css" integrity="sha512-ELV+xyi8IhEApPS/pSj66+Jiw+sOT1Mqkzlh8ExXihe4zfqbWkxPRi8wptXIO9g73FSlhmquFlUOuMSoXz5IRw==" crossorigin="anonymous" referrerpolicy="no-referrer" /> -->
    <link href="https://cdn.jsdelivr.net/npm/intro.js@7.2/minified/introjs.min.css" rel="stylesheet">  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <link rel="stylesheet" href="../common_assets/includes/autoComplete.js-10.2.7/dist/css/autoComplete.02.css">

    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
  <script src="https://cdn.jsdelivr.net/npm/intro.js@7.2/intro.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
  <script src="../common_assets/includes/autoComplete.js-10.2.7/dist/autoComplete.min.js"></script>
  
  <!-- Eu defini as funções para manipulacões de cookies no ../common_assets/js/function.js porem, essa biblioteca fornece mais compatibilidade com uma variedade de navegadores -->
  <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js"></script>

  <div class="container h-100">

    <!-- BADGE (STATUS CONEXAO) -->
    <div class="row justify-content-center align-items-start mt-4" style="height: 8vh; margin-top:4vh!important;">
      <div class="status-container text-center" style="width: 15%;">
        <div class="status connected">
          <i class="bi bi-wifi me-1"></i>
          <span>Conectado</span>
        </div>
        
        <div class="status connecting">
          <!-- <i class="fa-solid fa-spinner fa-spin-pulse me-1"></i>  FONTAWESOME (DEIXEI DE USAR POIS TAVA IMPORTANTO A BIBLIOTECA TODA SO PARA ISSO)-->
          <div class="spinner-border spinner-border-sm me-2" role="status"></div>
          <span>Conectando</span>
        </div>
    
        <div class="status offline">
          <i class="bi bi-cloud-slash me-1"></i>
          <span>Desconectado</span>
        </div>
      </div>
    </div>

    <!-- AREA PRINCIPAL DE ACOES -->
    <div class="row justify-content-center align-items-center" id="containerFlex" style="height: 78vh;">
      
      <div class="boxAcoes text-center">

        <!-- NESTE CASO, EM VEZ DE USAR ROW E COL, USEI FLEXBOX PARA CENTRALIZAR OS BOTÕES, POIS POR PADRAO, O DISPLAY FLEX ALINHA OS ELEMENTOS HORIZONTALMENTE NA MESMA LINHA. -->
        <div class="mb-3">
          <h1 class="fw-bold" style="color:#333;">Aferidor Desktop</h1>
        </div>

        <div class="d-flex justify-content-center">
          <button class="btn_aferidor" id="abrirApp" type="button" title="Abre o aplicativo no seu computador">Comece já!</button>

          <button class="btn_aferidor hidden" id="scanApp" type="button">Scan</button>
          <button class="btn_aferidor hidden" id="conectarApp" type="button">Conectar</button>
        </div>

      </div>

      <!-- <button type="button" class="btnResultado" data-bs-toggle="modal" data-bs-target="#modalInicio">Enviar</button> -->

      
    </div>

    
    <!-- AREA DE RESULTADOS -->
    <div class="row justify-content-center align-items-end" style="height: 10vh;">
      <button class="btn-visualizar-resultado shadow-sm" data-bs-target="#modalResultado" data-bs-toggle="modal">
        Visualize o resultado aqui!
      </button>
    </div>

    <!-- ICONE DE AJUDA -->
    <div class="dropdown">
      <button class="floating-help-button" data-bs-toggle="dropdown">
        <i class="bi bi-question-lg"></i>
      </button>

      <ul class="dropdown-menu">
        <li><button class="dropdown-item" data-bs-target="#modalAjuda" data-bs-toggle="modal"><i class="bi bi-book me-2"></i>Como usar?</button></li>
        <li><button class="dropdown-item" onclick="$('#btnDonwload').click()"><i class="bi bi-download me-2"></i>Baixe o App</button></li>
        <li><a class="dropdown-item" href="https://forms.gle/ZuXx7JoXaZpEUDT36"><i class="bi bi-lightbulb me-2"></i>Sugestões</a></li>
        <li><button class="dropdown-item" id="refazerTuorInicio"><i class="bi bi-play-circle me-2"></i>Tuor de Boas-Vindas</button></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="../admin/admin.html"><i class="bi bi-gear me-2"></i>Admin</a></li>
      </ul>

    </div>

    <!-- MODAL RESULTADO DO SCANNER -->
    <div class="modal fade" id=modalResultado tabindex="-1" role="dialog" aria-labelledby="tituloModalResultado" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fw-bold">Resultado da Aferição</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body" style="--bs-modal-padding: 0.7rem!important;">
            <div class="text-center mb-2" id="tab"></div>
            <div id="bodyTab"></div>
          </div>
          
          <div class="modal-footer justify-content-center">
            <button type="button" Class="btnResultado" data-bs-toggle="modal" data-bs-target="#formularioEnvio">Enviar</button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- FORMULARIO DE ENVIO PARA O DEPARTAMENTO -->
    <div class="modal fade" id=formularioEnvio tabindex="-1" role="dialog" aria-labelledby="tituloFormularioEnvio" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fw-bold">Formulário de Envio</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body" id="bodyFormularioEnvio">
            <form id="formularioEnvio" class="mx-2">
              <div class="row mb-3">
                
                <div class="col-md-6">
                  <label for="usuario" class="form-label fw-bold">Usuário</label>

                  <input 
                    type="text" 
                    class="form-control" 
                    data-bs-toggle="tooltip" 
                    data-bs-placement="top" 
                    data-bs-html="true" 
                    data-bs-title="Se não encontrar o seu nome, selecione <strong>0 - Não Cadastrado</strong>." 
                    id="fk_funcionario_name" 
                  required>

                  <!-- Para saber se o usuario selecionou um nome cadastrado. -->
                  <input type="hidden" id="fk_funcionario_name_control">
                  <input type="hidden" id="fk_funcionario">

                  <div class="invalid-feedback"></div>
                    
                  
                </div>

                <div class="col-md-6">
                  <label for="email" class="form-label fw-bold">E-mail</label>
                  <div class="input-group mb-2">
                    <span class="input-group-text">@</span>
                    <input type="text" id="email" placeholder="E-mail para contato" class="form-control" required>
                    <div class="invalid-feedback"></div>
                  </div>
                </div>
              </div>
  
              <div class="row my-3">
                <div class="col-md-6">
                  <label for="numero" class="form-label fw-bold">Número da máquina</label>
                  <input type="text" id="numero" name="numero" placeholder="Ex: 394" class="form-control" required>
                  <div class="invalid-feedback"></div>
                </div>
  
                <div class="col-md-6">
                  <label for="tipo" class="form-label fw-bold">Tipo da máquina</label>
                  <select id="tipo" name="tipo" class="form-select" required>
                    <option value="" selected>Selecione o tipo da sua máquina</option>
                    <option value="desktop">Desktop</option>
                    <option value="notebook">Notebook</option>
                  </select>

                  <div class="invalid-feedback"></div>
                </div>
              </div>
  
              <div class="row my-3">
                <div class="col">
                  <label for="setor" class="form-label fw-bold">Setor</label>
                  <select id="setor" class="form-select" required>
                    <option value="" selected>Selecione o setor</option>
                  </select>

                  <div class="invalid-feedback"></div>
                </div>
              </div>
              
              <div class="row my-3">
                <div class="col">
                  <label for="obs" class="form-label fw-bold">Observação</label>
                  <textarea id="obs" class="form-control"></textarea>
                </div>
              </div>
  
              <div class="row mt-4 mb-2 text-center">
                <div class="col">
                  <button type="submit" id="btn_form_envio">Enviar em Definitivo</button>
                </div>
              </div>
  
            </form>
          </div>
          
          <div class="modal-footer justify-content-center">
            <p class="text-danger mt-2 text-center">Caso não encontre seu nome, selecione <strong>0 - Não Cadastrado</strong> e escreva seu nome na observação.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL DE AJUDA PARA O USUARIO -->
    <div class="modal fade" id=modalAjuda tabindex="-1" role="dialog" aria-labelledby="tituloModalAjuda" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-fullscreen">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fw-bold">Guia de Uso - AferidorDesktop</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body mx-2">
            <div class="row">
              <!-- Passo 1 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">1. Instalação do Aplicativo <i class="bi bi-cloud-download ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Após o download, abra o arquivo baixado e siga as instruções na tela para instalar o programa. 
                    </p>
                    <p class="card-text">
                      Se aparecer algo como <b>"Windows protegeu o PC"</b>, clique em <b>"Mais informações"</b> e <b>"Executar assim mesmo"</b>.
                    </p>
                    <p class="card-text">
                      Aguarde a conclusão da instalação.
                    </p>
                  </div>
                </div>
              </div>
          
              <!-- Passo 2 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">2. Feche o Aplicativo <i class="bi bi-window-plus ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Após a instalação, garanta que o aplicativo esteja fechado. Isso garante o fluxo correto do programa.
                    </p>

                    <p class="card-text">
                      Caso o programa esteja aberto, clique com o botão direito no ícone do programa na barra de tarefas e clique em <b>"Fechar janela"</b>.
                    </p>
                  </div>
                </div>
              </div>
          
              <!-- Passo 3 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
          
                  <h5 class="card-header">3. Abertura e Conexão <i class="bi bi-wifi ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Atualize o site, aperte no botão <b>"Começar Já"</b> ou <b>"Abrir aplicativo"</b> e clique em <b>"Abrir URL:aferidorDesktop"</b>.
                    </p>
          
                    <p class="card-text">
                      Aguarde o programa abrir e a mensagem <b>"Conectado"</b> aparecer na tela.
                    </p>
                  </div>
                </div>
              </div>
            </div>          
            
            <div class="row">
              <!-- Passo 4 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">4. Iniciar Análise<i class="bi bi-play-circle ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Clique em <b>Continuar</b> e depois em <b>Scan</b>.
                    </p>
                    <p class="card-text">
                      Por favor, aguarde enquanto o programa analisa o software e hardware do seu dispositivo.
                    </p>
                  </div>
                </div>
              </div>
            
          
              <!-- Passo 5 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">5. Dados no Site <i class="bi bi-clipboard-data ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Após a conclusão da análise, os dados serão <b>automaticamente</b> exibidos na tela.
                    </p>
          
                    <p class="card-text">
                      Se os dados não aparecerem, por favor, certifique-se de que o ícone localizado na parte superior do site está indicando "Conectado" e tente <b>"Scanear Novamente"</b>.
                    </p>
                  </div>
                </div>
              </div>
          
              <!-- Passo 6 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">6. Envio dos Dados <i class="bi bi-send ms-2"></i> </h5>
                  <div class="card-body">
                    <p class="card-text">
                      Clique no botão <b>"Enviar"</b> e um formulário será exibido.
                    </p>
                    <p class="card-text">
                      Preencha-o e clique no botão <b>"Enviar em Definitivo"</b> para concluir o processo.
                    </p>
                  </div>
                </div>
              </div>
            </div>
                    
            <!-- Card de agradecimento -->
            <!-- <div class="row justify-content-center mt-3">
              <div class="alert alert-success text-center w-75">
                <p class="fs-5">
                  Pronto! O processo foi <strong style="color: green;">concluído com sucesso!</strong> Agora você pode fechar o site.
                </p>
                <span>O departamento de T.I da Esteio agradece sua colaboração!</span>
              </div>
            </div> -->
            
          </div>

          <div class="modal-footer d-flex justify-content-center">
            <button type="button" class="btn btn-success" data-bs-dismiss="modal">Entendi, vamos começar!</button>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL INICIO CONEXAO -->
    <div class="modal fade" id=modalInicio tabindex="-1" role="dialog" aria-labelledby="tituloModalInicio" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <!-- <h3 class="modal-title fw-bold" id="tituloModalInicio"></h3> -->
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body">
            <div class="text-center">
              <h1 class="fw-bold" id="tituloModalInicio">Abrindo o programa no seu computador...</h1>

              <!-- adcionar uma imagem -->
              <!-- <img src="assets/img/img_clique.png" alt="Clique neste botão para abrir" class="img-fluid mt-2" style="scale: 80%"> -->

              <h5 class="mt-5 mb-4" id="instrucaoModalInicio">Clique em "Abrir" e aguarde enquanto o programa inicia e estabelecemos a conexão com ele.</h5>

              <div class="row justify-content-center mt-4 mb-5">
                <div class="status-container text-center" style="width: 35%;">
                  <div class="status connected">
                    <i class="bi bi-wifi me-1"></i>
                    <span>Conectado</span>
                  </div>
                  
                  <div class="status connecting fw-semibold">
                    <div class="spinner-border spinner-border-sm me-2" role="status"></div>
                    <span>Conectando ao aplicativo</span>
                  </div>
              
                  <div class="status offline">
                    <i class="bi bi-cloud-slash me-1"></i>
                    <span>Desconectado</span>
                  </div>
                </div>
              </div>

              <div class="justify-content-center d-flex my-4">
                <div id="aviso_conexao" class="alert alert-warning mb-0" role="alert" style="width: 85%;">
                  Se <b>não aparecer a mensagem</b> solicitando a abertura ou o programa <b>não iniciar automaticamente</b> , por favor, verifique se o programa está instaldo. Caso não, clique no botão "Download" para baixar o programa.
                </div>

                <div id="sucesso_conexao" class="alert alert-success mb-0" role="alert" style="width: 75%; display: none;">
                  <h5><b>Sucesso!</b> O programa foi iniciado e estamos conectados com ele.</h5>
                  <p class="mb-0">Clique em continuar para dar continuidade ao processo</p>
                </div>

                <div id="aviso_download" class="alert alert-info mb-0" role="alert" style="width: 85%; display: none;">
                  Se você <b>não tem o programa</b>, por favor, clique no botão <b>"Download"</b> abaixo para baixar e instalar.
                </div>
              </div>

            </div>
          </div>
          
          <div class="modal-footer justify-content-center">
            <button type="button" 
              class="btn btn-primary" 
              id="continuarModalAbertura" 
              data-bs-dismiss="modal" 
              arial-label="Close">
                <span>Continuar</span>
            </button>

            <button type="button" class="btn btn-secondary" id="btnDonwload">
                <i class="bi bi-download me-2"></i>
                <span>Download</span>
            </button>

            <!-- <button type="button" class="btn btn-outline-success" id="btnConectarModal"><i class="bi bi-broadcast-pin me-2"></i>Conectar</button> -->

          </div>
        </div>
      </div>
    </div>

    <!-- TOAST OU MODAL de BOAS-VINDAS (ENVIO FINALIZADO) -->

    <!-- <div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
      <div id="toast-BoasVindas" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false" style="background-color: var(--bs-toast-bg);">
        <div class="toast-body text-center">
          <p><b>Seja Bem-Vindo ao Aferidor Desktop!</b> Gostaria de receber algumas dicas rápidas sobre como usar o sistema?</p>
          <div class="mt-2 pt-2 d-flex justify-content-center gap-2">
            <button type="button" class="btn btn-outline-primary btn-sm" id="btnInicioTuor">Sim, por favor!</button>
            <button type="button" class="btn btn-outline-danger btn-sm" data-bs-dismiss="toast">Não, obrigado</button>
          </div>
        </div>
      </div>
    </div> -->

    <div class="modal fade" id=modalBoasVindas tabindex="-1" role="dialog" aria-labelledby="tituloModalBoasVindas" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl" style="width: 900px;">
        <div class="modal-content">
  
          <div class="modal-body text-center">
            <h1 class="fw-bold">Seja Bem-vindo ao Aferidor Desktop!</h1>
            <!-- <p class="text-body-secondary">Um sistema desenvolvido para facilitar o controle de softwares e hardwares da empresa.</p> -->
            <p class="mb-0 mt-3 fs-5">Gostaria de receber algumas dicas rápidas sobre como usar o sistema?</p>
          </div>

          <div class="mt-2 mb-4 d-flex justify-content-center gap-2">
            <button type="button" class="btn btn-outline-primary" id="btnInicioTuor">Sim, por favor!</button>
            <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Não, obrigado</button>
          </div>
          
          <div class="modal-footer justify-content-center">
            <p>Para evitar ver essa mensagem novamente, clique <a href="#" id="naoMostrarMsgBoasVindas" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Você pode acessar o tour sempre que quiser clicando no ícone de ajuda (?)">aqui</a></p>
          </div>
        </div>
      </div>
    </div>
  </div>

</body>

<script src="../common_assets/js/functions.js"></script>
<script src="assets/js/connectApp.js"></script>
<script src="assets/js/tabelaDadosCliente.js"></script>
<script src="assets/js/formConfig.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</html>
