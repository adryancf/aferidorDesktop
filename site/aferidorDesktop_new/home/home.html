

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />


    <title>Aferidor Desktop</title>

    

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" integrity="sha512-dPXYcDub/aeb08c63jRq/k6GaKccl256JQy/AnOq7CAnEZ9FzSL9wSbcZkMp4R26vBsMLFYH4kQ67/bbV8XaCQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/base/jquery-ui.min.css" integrity="sha512-ELV+xyi8IhEApPS/pSj66+Jiw+sOT1Mqkzlh8ExXihe4zfqbWkxPRi8wptXIO9g73FSlhmquFlUOuMSoXz5IRw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" /> 
    <link rel="stylesheet" href="../common_assets/css/css_autoComplete/autoComplete.css">

    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tarekraafat-autocomplete.js/10.2.7/autoComplete.min.js"></script>

  <div class="container h-100">
    <!-- BADGE (CONECTADO) -->
    <div class="row justify-content-center align-items-start mt-4" style="height: 8vh; margin-top:4vh!important;">
      <div class="status-container text-center" style="width: 15%;">
        <div class="status connected">
          <i class="bi bi-wifi me-1"></i>
          <span>Conectado</span>
        </div>
        
        <div class="status connecting">
          <i class="fa-solid fa-spinner fa-spin-pulse me-1"></i> 
          <span>Conectando</span>
        </div>
    
        <div class="status offline">
          <i class="bi bi-cloud-slash me-1"></i>
          <span>Desconectado</span>
        </div>
      </div>
    </div>

    <!-- AREA PRINCIPAL DE ACOES -->
    <div class="row justify-content-center align-items-center" id="containerFlex" style="height: 78vh;">
      
      <div class="boxAcoes text-center">
          <!-- NESTE CASO, EM VEZ DE USAR ROW E COL, USEI FLEXBOX PARA CENTRALIZAR OS BOTÕES, POIS POR PADRAO, O DISPLAY FLEX ALINHA OS ELEMENTOS HORIZONTALMENTE NA MESMA LINHA. -->
          <div class="mb-3">
            <h1 class="fw-bold" style="color:#333;">Aferidor Desktop</h1>
          </div>

          <div class="d-flex justify-content-center">
            <button class="btn_aferidor" id="abrirApp" type="button" title="Abre o aplicativo no seu computador">Comece já!</button>
            
            <button class="btn_aferidor btn_hidden" id="scanApp" type="button">Scan</button>
            <button class="btn_aferidor btn_hidden" id="conectarApp" type="button">Conectar</button>

            
          </div>
      </div>

      <!-- <button type="button" class="btnResultado" data-bs-toggle="modal" data-bs-target="#modalInicio">Enviar</button> -->

      
    </div>

    <!-- AREA DE RESULTADOS -->
    <div class="row justify-content-center align-items-end" style="height: 10vh;">
      <button class="btn-visualizar-resultado shadow-sm" data-bs-target="#modalResultado" data-bs-toggle="modal">
        Visualize o resultado aqui!
      </button>
    </div>

    <!-- ICONE DE AJUDA -->
    <div class="dropdown">
      <button class="floating-help-button" data-bs-toggle="dropdown">
        <i class="bi bi-question-lg"></i>
      </button>

      <ul class="dropdown-menu">
        <li><button class="dropdown-item" data-bs-target="#modalAjuda" data-bs-toggle="modal"><i class="bi bi-book me-2"></i>Como usar?</button></li>
        <li><a class="dropdown-item" href="../download/Instaladaor_AferidorDesktop.exe"><i class="bi bi-download me-2"></i>Baixe o App</a></li>
        <li><button class="dropdown-item" id="conectarApp"><i class="bi bi-wifi me-2"></i>Conectar</button></li>
        <li><a class="dropdown-item" href="https://forms.gle/WBv5YuokVoCiceKL6"><i class="bi bi-lightbulb me-2"></i>Sugestões</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="../admin/admin.html"><i class="bi bi-gear me-2"></i>Admin</a></li>
      </ul>

    </div>

    <!-- POUP-UP QUE MOSTRA O RESULTADO DO SCANNER -->
    <div class="modal fade" id=modalResultado tabindex="-1" role="dialog" aria-labelledby="tituloModalResultado" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fw-bold">Resultado da Aferição</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body" style="--bs-modal-padding: 0.7rem!important;">
            <div class="text-center mb-2" id="tab"></div>
            <div id="bodyTab"></div>
          </div>
          
          <div class="modal-footer justify-content-center">
            <button type="button" Class="btnResultado" data-bs-toggle="modal" data-bs-target="#formularioEnvio">Enviar</button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- FORMULARIO DE ENVIO PARA O DEPARTAMENTO -->
    <div class="modal fade" id=formularioEnvio tabindex="-1" role="dialog" aria-labelledby="tituloFormularioEnvio" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fw-bold">Formulário de Envio</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body" id="bodyFormularioEnvio">
            <form id="formularioEnvio" class="mx-2">
              <div class="row mb-3">
                <div class="col-md-6">
                  <label for="usuario" class="form-label">Usuário</label>
                  <input 
                    type="text" 
                    class="form-control" 
                    data-bs-toggle="tooltip" 
                    data-bs-placement="top" 
                    data-bs-html="true" 
                    data-bs-title="Se não encontrar o seu nome, selecione <strong>0 - Não Localizado</strong>." 
                    placeholder="Nome do usuário da máquina" 
                    id="fk_funcionario_text" 
                  required>
                  <input type="hidden" id="fk_funcionario">
                </div>
                <div class="col-md-6">
                  <label for="email" class="form-label">E-mail</label>
                  <div class="input-group mb-2">
                    <span class="input-group-text">@</span>
                    <input type="text" id="email" onblur=validarEmail(this.value) placeholder="E-mail para contato" class="form-control" required>
                  </div>
                </div>
              </div>
  
              <div class="row my-3">
                <div class="col-md-6">
                  <label for="numero" class="form-label">Número da máquina</label>
                  <input type="text" id="numero" name="numero" placeholder="Ex: 394" class="form-control" required>
                </div>
  
                <div class="col-md-6">
                  <label for="tipo" class="form-label">Tipo da máquina</label>
                  <select id="tipo" name="tipo" class="form-select">
                    <option value="desktop">Desktop</option>
                    <option value="notebook">Notebook</option>
                  </select>
                </div>
              </div>
  
              <div class="row my-3">
                <div class="col">
                  <label for="setor" class="form-label">Setor</label>
                  <select id="setor" class="form-select">
                    <option value="" selected>Selecione o setor</option>
                  </select>
                </div>
              </div>
              
              <div class="row my-3">
                <div class="col">
                  <label for="obs" class="form-label">Observação</label>
                  <textarea id="obs" class="form-control"></textarea>
                </div>
              </div>
  
              <div class="row mt-4 mb-2 text-center">
                <div class="col">
                  <button type="submit" id="btn_form_envio">Enviar em Definitivo</button>
                </div>
              </div>
  
            </form>
          </div>
          
          <div class="modal-footer justify-content-center">
            <p class="text-danger mt-2 text-center">Caso não encontre seu nome, selecione <strong>0 - Não Localizado</strong> e escreva seu nome na observação.</p>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL DE AJUDA PARA O USUARIO -->
    <div class="modal fade" id=modalAjuda tabindex="-1" role="dialog" aria-labelledby="tituloModalAjuda" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-fullscreen">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fw-bold">Guia de Uso - AferidorDesktop</h3>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body mx-2">
            <div class="row">
              <!-- Passo 1 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">1. Instalação do Aplicativo <i class="bi bi-cloud-download ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Após o download, abra o arquivo baixado e siga as instruções na tela para instalar o programa. 
                    </p>
                    <p class="card-text">
                      Aguarde a conclusão da instalação.
                    </p>
                  </div>
                </div>
              </div>
          
              <!-- Passo 2 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">2. Feche o Aplicativo <i class="bi bi-window-plus ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Após a instalação, garanta que o aplicativo esteja fechado. Isso garante o fluxo correto do programa.
                    </p>
                    <p class="card-text">
                     Se você não quiser <strong>abrir pelo site</strong>, você pode abrir o programa manualmente e conectar clicando no ícone de ajuda e em <strong>"Conectar"</strong>.
                    </p>
                  </div>
                </div>
              </div>
          
              <!-- Passo 3 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
          
                  <h5 class="card-header">3. Abertura e Conexão <i class="bi bi-wifi ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Atualize o site, aperte no botão "Começar Já" e clique em <strong>"Abrir URL:aferidorDesktop"</strong>. Aguarde o programa abrir e a mensagem "Conectado" aparecer na tela.
                    </p>
          
                    <p class="card-text">
                      O programa deve estar <strong>fechado</strong> antes de fazer esta etapa.
                    </p>
                  </div>
                </div>
              </div>
            </div>          
            
            <div class="row">
              <!-- Passo 4 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">4. Iniciar Scanner no Aplicativo <i class="bi bi-play-circle ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      De volta ao aplicativo, clique no botão <strong>Scan</strong>.
                    </p>
                    <p class="card-text">
                      Aguarde até que o programa analise o software e hardware do seu dispositivo.
                    </p>
                  </div>
                </div>
              </div>
            
          
              <!-- Passo 5 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">5. Dados no Site <i class="bi bi-clipboard-data ms-2"></i></h5>
                  <div class="card-body">
                    <p class="card-text">
                      Ao final da análise, volte ao navegador e observe os dados obtidos.
                    </p>
          
                    <p class="card-text fw-semibold">
                      Se não aparecer, certifique-se de que o ícone em cima do site está como "Conectado".
                    </p>
                  </div>
                </div>
              </div>
          
              <!-- Passo 6 -->
              <div class="col mb-4">
                <div class="card shadow min-height">
                  <h5 class="card-header">6. Envio dos Dados <i class="bi bi-send ms-2"></i> </h5>
                  <div class="card-body">
                    <p class="card-text">
                      No site, clique no botão <strong>"Enviar"</strong> e um formulário será exibido.
                    </p>
                    <p class="card-text">
                      Preencha-o e clique no botão <strong>"Enviar em Definitivo"</strong> para concluir o processo.
                    </p>
                  </div>
                </div>
              </div>
            </div>
                    
            <!-- Passo 7 -->
            <div class="row justify-content-center mt-3">
              <div class="alert alert-success text-center w-75">
                <p class="fs-5">
                  O processo foi <strong style="color: green;">concluído com sucesso!</strong> Agora você pode fechar o aplicativo e o site.
                </p>
                <span>O departamento de T.I da Esteio agradece sua colaboração!</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODAL INICIO CONEXAO -->
    <div class="modal fade" id=modalInicio tabindex="-1" role="dialog" aria-labelledby="tituloModalInicio" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <!-- <h3 class="modal-title fw-bold" id="tituloModalInicio"></h3> -->
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
  
          <div class="modal-body">
            <div class="text-center">
              <h1 class="fw-bold" id="tituloModalInicio">Abrindo o programa no seu computador...</h1>

              <!-- adcionar uma imagem -->
              <!-- <img src="assets/img/img_clique.png" alt="Clique neste botão para abrir" class="img-fluid mt-2" style="scale: 80%"> -->

              <h5 class="mt-5 mb-4" id="instrucaoModalInicio">Clique em "Abrir" e aguarde enquanto o programa inicia e estabelecemos a conexão com ele.</h5>

              <div class="row justify-content-center mt-4 mb-5">
                <div class="status-container text-center" style="width: 35%;">
                  <div class="status connected">
                    <i class="bi bi-wifi me-1"></i>
                    <span>Conectado</span>
                  </div>
                  
                  <div class="status connecting fw-semibold">
                    <i class="fa-solid fa-spinner fa-spin-pulse me-2"></i> 
                    <span>Conectando ao aplicativo</span>
                  </div>
              
                  <div class="status offline">
                    <i class="bi bi-cloud-slash me-1"></i>
                    <span>Desconectado</span>
                  </div>
                </div>
              </div>

              <div class="justify-content-center d-flex my-4">
                <div id="aviso_conexao" class="alert alert-warning mb-0" role="alert" style="width: 85%;">
                  Se <strong>não aparecer a mensagem</strong> solicitando a abertura ou o programa <strong>não iniciar automaticamente</strong> , por favor, verifique se o programa está instaldo. Caso não, clique no botão "Download" para baixar o programa.
                </div>

                <div id="sucesso_conexao" class="alert alert-success mb-0" role="alert" style="width: 75%; display: none;">
                  <h5><b>Sucesso!</b> O programa foi iniciado e estamos conectados com ele.</h5>
                  <p class="mb-0">Clique em continuar para dar continuidade ao processo</p>
                </div>

                <div id="aviso_download" class="alert alert-info mb-0" role="alert" style="width: 85%; display: none;">
                  Se você <strong>não tem o programa</strong>, por favor, clique no botão "Download" abaixo para baixar e instalar.
                </div>
              </div>

            </div>
          </div>
          
          <div class="modal-footer justify-content-center">
            <button type="button" 
              class="btn btn-primary" 
              style="width: 15%!important;" 
              id="continuarModalAbertura" 
              data-bs-dismiss="modal" 
              arial-label="Close">
                <span>Continuar</span>
            </button>

            <button type="button" class="btn btn-secondary" id="btnDonwload" style="width: 15%!important">
                <i class="bi bi-download me-2"></i>
                <span>Download</span>
            </button>

            <!-- <button type="button" class="btn btn-outline-success" id="btnConectarModal"><i class="bi bi-broadcast-pin me-2"></i>Conectar</button> -->

          </div>
        </div>
      </div>
    </div>

  </div>

  

</body>

<script src="../common_assets/js/functions.js"></script>
<script src="assets/js/connectApp.js"></script>
<script src="assets/js/tabelaDadosCliente.js"></script>
<script src="assets/js/formConfig.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</html>
